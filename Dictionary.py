mod_note_value_to_name = {
    0: 'C',
    1: 'Dm',
    2: 'D',
    3: 'Em',
    4: 'E',
    5: 'F',
    6: 'Gm',
    7: 'G',
    8: 'Am',
    9: 'A',
    10: 'Bm',
    11: 'B'
}

mod_note_name_to_value = {v: k for k, v in mod_note_value_to_name.items()}

note_value_to_name = {
    0: 'C0',
    1: 'C#0',
    2: 'D0',
    3: 'D#0',
    4: 'E0',
    5: 'F0',
    6: 'F#0',
    7: 'G0',
    8: 'G#0',
    9: 'A0',
    10: 'A#0',
    11: 'B0',
    12: 'C1',
    13: 'C#1',
    14: 'D1',
    15: 'D#1',
    16: 'E1',
    17: 'F1',
    18: 'F#1',
    19: "G1",
    20: 'G#1',
    21: 'A1',
    22: 'A#1',
    23: 'B1',
    24: 'C2',
    25: 'C#2',
    26: 'D2',
    27: 'D#2',
    28: 'E2',
    29: 'F2',
    30: 'F#2',
    31: 'G2',
    32: 'G#2',
    33: 'A2',
    34: 'A#2',
    35: 'B2',
    36: "C3",
    37: 'C#3',
    38: 'D3',
    39: 'D#3',
    40: 'E3',
    41: 'F3',
    42: 'F#3',
    43: 'G3',
    44: 'G#3',
    45: 'A3',
    46: 'A#3',
    47: 'B3',
    48: 'C4',
    49: 'C#4',
    50: 'D4',
    51: 'D#4',
    52: 'E4',
    53: 'F4',
    54: 'F#4',
    55: 'G4',
    56: 'G#4',
    57: 'A4',
    58: 'A#4',
    59: "B4",
    60: 'C5',
    61: 'C#5',
    62: 'D5',
    63: 'D#5',
    64: 'E5',
    65: 'F5',
    66: 'F#5',
    67: 'G5',
    68: 'G#5',
    69: 'A5',
    70: 'A#5',
    71: 'B5',
    72: 'C6',
    73: 'C#6',
    74: 'D6',
    75: 'D#6',
    76: 'E6',
    77: 'F6',
    78: 'F#6',
    79: 'G6',
    80: 'G#6',
    81: 'A6',
    82: 'A#6',
    83: 'B6',
    84: 'C7',
    85: 'C#7',
    86: 'D7',
    87: 'D#7',
    88: 'E7',
    89: 'F7',
    90: 'F#7',
    91: 'G7',
    92: 'G#7',
    93: 'A7',
    94: 'A#7',
    95: 'B7',
    96: 'C8',
    97: 'C#8',
    98: 'D8',
    99: 'D#8',
    100: 'E8',
    101: 'F8',
    102: 'F#8',
    103: 'G8',
    104: 'G#8',
    105: 'A8',
    106: 'A#8',
    107: 'B8',
    108: 'C9',
    109: 'C#9',
    110: 'D9',
    111: 'D#9',
    112: 'E9',
    113: 'F9',
    114: 'F#9',
    115: 'G9',
    116: 'G#9',
    117: 'A9',
    118: 'A#9',
    119: 'B9',
    120: 'C10',
    121: 'C#10',
    122: 'D10',
    123: 'D#10',
    124: 'E10',
    125: 'F10',
    126: 'F#10',
    127: 'G10'
}

# 反向映射
note_name_to_value = {
    'C0': 0,
    'C#0': 1,
    'D0': 2,
    'D#0': 3,
    'E0': 4,
    'F0': 5,
    'F#0': 6,
    'G0': 7,
    'G#0': 8,
    'A0': 9,
    'A#0': 10,
    'B0': 11,
    'C1': 12,
    'C#1': 13,
    'D1': 14,
    'D#1': 15,
    'E1': 16,
    'F1': 17,
    'F#1': 18,
    'G1': 19,
    'G#1': 20,
    'A1': 21,
    'A#1': 22,
    'B1': 23,
    'C2': 24,
    'C#2': 25,
    'D2': 26,
    'D#2': 27,
    'E2': 28,
    'F2': 29,
    'F#2': 30,
    'G2': 31,
    'G#2': 32,
    'A2': 33,
    'A#2': 34,
    'B2': 35,
    'C3': 36,
    'C#3': 37,
    'D3': 38,
    'D#3': 39,
    'E3': 40,
    'F3': 41,
    'F#3': 42,
    'G3': 43,
    'G#3': 44,
    'A3': 45,
    'A#3': 46,
    'B3': 47,
    'C4': 48,
    'C#4': 49,
    'D4': 50,
    'D#4': 51,
    'E4': 52,
    'F4': 53,
    'F#4': 54,
    'G4': 55,
    'G#4': 56,
    'A4': 57,
    'A#4': 58,
    'B4': 59,
    'C5': 60,
    'C#5': 61,
    'D5': 62,
    'D#5': 63,
    'E5': 64,
    'F5': 65,
    'F#5': 66,
    'G5': 67,
    'G#5': 68,
    'A5': 69,
    'A#5': 70,
    'B5': 71,
    'C6': 72,
    'C#6': 73,
    'D6': 74,
    'D#6': 75,
    'E6': 76,
    'F6': 77,
    'F#6': 78,
    'G6': 79,
    'G#6': 80,
    'A6': 81,
    'A#6': 82,
    'B6': 83,
    'C7': 84,
    'C#7': 85,
    'D7': 86,
    'D#7': 87,
    'E7': 88,
    'F7': 89,
    'F#7': 90,
    'G7': 91,
    'G#7': 92,
    'A7': 93,
    'A#7': 94,
    'B7': 95,
    'C8': 96,
    'C#8': 97,
    'D8': 98,
    'D#8': 99,
    'E8': 100,
    'F8': 101,
    'F#8': 102,
    'G8': 103,
    'G#8': 104,
    'A8': 105,
    'A#8': 106,
    'B8': 107,
    'C9': 108,
    'C#9': 109,
    'D9': 110,
    'D#9': 111,
    'E9': 112,
    'F9': 113,
    'F#9': 114,
    'G9': 115,
    'G#9': 116,
    'A9': 117,
    'A#9': 118,
    'B9': 119,
    'C10': 120,
    'C#10': 121,
    'D10': 122,
    'D#10': 123,
    'E10': 124,
    'F10': 125,
    'F#10': 126,
    'G10': 127,
}


channel_value_to_name = {
    0: 'Acoustic Grand Piano',
    1: 'Bright Acoustic Piano',
    2: 'Electric Grand Piano',
    3: 'Honky-tonk Piano',
    4: 'Electric Piano 1',
    5: 'Electric Piano 2',
    6: 'Harpsichord',
    7: 'Clavinet',
    8: 'Celesta',
    9: 'Glockenspiel',
    10: 'Music Box',
    11: 'Vibraphone',
    12: 'Marimba',
    13: 'Xylophone',
    14: 'Tubular Bells',
    15: 'Dulcimer',
    16: 'Drawbar Organ',
    17: 'Percussive Organ',
    18: 'Rock Organ',
    19: 'Church Organ',
    20: 'Reed Organ',
    21: 'Accordion',
    22: 'Harmonica',
    23: 'Tango Accordion',
    24: 'Acoustic Guitar (nylon)',
    25: 'Acoustic Guitar (steel)',
    26: 'Electric Guitar (jazz)',
    27: 'Electric Guitar (clean)',
    28: 'Electric Guitar (muted)',
    29: 'Overdriven Guitar',
    30: 'Distortion Guitar',
    31: 'Guitar harmonics',
    32: 'Acoustic Bass',
    33: 'Electric Bass (finger)',
    34: 'Electric Bass (pick)',
    35: 'Fretless Bass',
    36: 'Slap Bass 1',
    37: 'Slap Bass 2',
    38: 'Synth Bass 1',
    39: 'Synth Bass 2',
    40: 'Violin',
    41: 'Viola',
    42: 'Cello',
    43: 'Contrabass',
    44: 'Tremolo Strings',
    45: 'Pizzicato Strings',
    46: 'Orchestral Harp',
    47: 'Timpani',
    48: 'String Ensemble 1',
    49: 'String Ensemble 2',
    50: 'Synth Strings 1',
    51: 'Synth Strings 2',
    52: 'Choir Aahs',
    53: 'Voice Oohs',
    54: 'Synth Voice',
    55: 'Orchestra Hit',
    56: 'Trumpet',
    57: 'Trombone',
    58: 'Tuba',
    59: 'Muted Trumpet',
    60: 'French Horn',
    61: 'Brass Section',
    62: 'Synth Brass 1',
    63: 'Synth Brass 2',
    64: 'Soprano Sax',
    65: 'Alto Sax',
    66: 'Tenor Sax',
    67: 'Baritone Sax',
    68: 'Oboe',
    69: 'English Horn',
    70: 'Bassoon',
    71: 'Clarinet',
    72: 'Piccolo',
    73: 'Flute',
    74: 'Recorder',
    75: 'Pan Flute',
    76: 'Blown Bottle',
    77: 'Shakuhachi',
    78: 'Whistle',
    79: 'Ocarina',
    80: 'Lead 1 (square)',
    81: 'Lead 2 (sawtooth)',
    82: 'Lead 3 (calliope)',
    83: 'Lead 4 (chiff)',
    84: 'Lead 5 (charang)',
    85: 'Lead 6 (voice)',
    86: 'Lead 7 (fifths)',
    87: 'Lead 8 (bass + lead)',
    88: 'Pad 1 (new age)',
    89: 'Pad 2 (warm)',
    90: 'Pad 3 (polysynth)',
    91: 'Pad 4 (choir)',
    92: 'Pad 5 (bowed)',
    93: 'Pad 6 (metallic)',
    94: 'Pad 7 (halo)',
    95: 'Pad 8 (sweep)',
    96: 'FX 1 (rain)',
    97: 'FX 2 (soundtrack)',
    98: 'FX 3 (crystal)',
    99: 'FX 4 (atmosphere)',
    100: 'FX 5 (brightness)',
    101: 'FX 6 (goblins)',
    102: 'FX 7 (echoes)',
    103: 'FX 8 (sci-fi)',
    104: 'Sitar',
    105: 'Banjo',
    106: 'Shamisen',
    107: 'Koto',
    108: 'Kalimba',
    109: 'Bag pipe',
    110: 'Fiddle',
    111: 'Shanai',
    112: 'Tinkle Bell',
    113: 'Agogo',
    114: 'Steel Drums',
    115: 'Woodblock',
    116: 'Taiko Drum',
    117: 'Melodic Tom',
    118: 'Synth Drum',
    119: 'Reverse Cymbal',
    120: 'Guitar Fret Noise',
    121: 'Breath Noise',
    122: 'Seashore',
    123: 'Bird Tweet',
    124: 'Telephone Ring',
    125: 'Helicopter',
    126: 'Applause',
    127: 'Gunshot'
}

# 反向映射
channel_name_to_value = {v: k for k, v in channel_value_to_name.items()}

chord_progression_in_major = {
    1: ['I','IV','V'],
    2: ['I','vi','IV','V'], # pop
    3: ['I','iii','vi','IV'], # pop & folk
    4: ['ii','V','I'], # jazz
    5: ['vi','ii','V','I'], # circle
    6: ['V','vi','IV','I']
}

chord_in_C = {
    'I': ['C','E','G'],
    'ii': ['D','F','A'],
    'iii': ['E','G','B'],
    'IV': ['F','A','C'],
    'V': ['G','B','D'],
    'vi': ['A','C','E'],
    'vii': ['B','D','F']
}

note_to_chord_in_C = {
    'C': ['I','IV','vi'],
    'C#': ['iii','V','vii'],
    'D': ['ii','V','vii'],
    'D#': ['I','iii','V'],
    'E': ['I','iii','vi'],
    'F': ['ii','IV','vii'],
    'F#': ['I','iii','vi'],
    'G': ['I','iii','V'],
    'G#': ['I','IV','vi'],
    'A': ['ii','IV','vi'],
    'A#': ['ii','V','vii'],
    'B': ['iii','V','vii']
}

chord_progression_in_minor = {
    1: ['i','iv','v'],
    2: ['i','v','i'], # simple
    3: ['i','VI','VII','i'],
    4: ['i','III','VII','VI'],
    5: ['i','III','iv'],
    6: ['ii','i'],
    7: ['ii','III','VI', 'ivb', 'v', 'i'],
    8: ['III','iv','i'],
    9: ['ivb','v','i']
}

chord_in_Am = {
    'i': ['A','C','E','F'], # Am or Am(b6)
    'ii': ['B','D','F','A'], # B半减七，减五度，小七度
    'III': ['C','E','G'],
    'iv': ['D','F','A'],
    'ivb': ['Dm','E','G','B'], # Dm半减七，只用于7号和弦进行
    'v': ['E','G','B'],
    'VI': ['F','A','C'],
    'VII': ['G','B','D']
}

note_to_chord_in_Am = {
    'A': ['i','ii','iv','VI'],
    'A#': ['ii','iv','VII'],
    'B': ['ii','v','VII','ivb'],
    'C': ['i','III','VII'],
    'C#': ['ii','v','VII'],
    'D': ['ii','iv','VII'],
    'D#': ['ivb','III','v','VII'],
    'E': ['i','III','v','ivb'],
    'F': ['i','ii','iv','VI'],
    'F#': ['i','III','v'],
    'G': ['III','v','VII','ivb'],
    'G#': ['i','III','VII']
}